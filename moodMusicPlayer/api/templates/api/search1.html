{% extends "layout.html" %}

{% block title %} Songs for your mood {% endblock %}

{% block content %}
<h2>Songs for your mood</h2>

{% if musicInfo %}
    {% for track in musicInfo %}
            <div class="track-card" style="border:1px solid #ccc; padding:10px; margin-bottom:10px;">
                <!-- Album Image -->
                <img src="{{ track.album_image }}" alt="{{ track.name }}" width="150">

                <!-- Track Details -->
                <h3>{{ track.name }}</h3>
                <p>Artist: {{ track.artist_name }}</p>
                <p>Album: {{ track.album_name }}</p>
                <p>Released: {{ track.releasedate }}</p>
                <p>Duration: {{ track.duration|divisibleby:60 }}:{% widthratio track.duration 60 60 %} min</p>

                <!-- Audio Player -->
                <audio controls>
                    <source src="{{ track.audio }}" type="audio/mpeg">
                    Your browser does not support the audio element.
                </audio>

                <!-- Links -->
                <p>
                    <a href="{{ track.prourl }}" target="_blank">License Info</a> |
                    <a href="{{ track.audiodownload }}" target="_blank">Download</a> |
                    <a href="{{ track.shareurl }}" target="_blank">Share</a>
                </p>

                <!-- Music Tags -->
                {% if track.musicinfo.tags.genres %}
                    <p>Genres: {{ track.musicinfo.tags.genres|join:", " }}</p>
                {% endif %}
                {% if track.musicinfo.tags.vartags %}
                    <p>Vartags: {{ track.musicinfo.tags.vartags|join:", " }}</p>
                {% endif %}
            </div>
        {% endfor %}

{% else %}
    <p>No mood selected yet.</p>
{% endif %}

{% endblock %}
